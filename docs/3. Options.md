### Server Options

The `server(options)` function initializes a server instance with a variety of configuration options. These options allow you to customize server behavior and integrate essential features. Below is a detailed description of each option available:

- **`port`**: `number`
  - Specifies the port number on which the server will listen for incoming connections.

- **`secret`**: `string`
  - A secret key used for securing various operations, such as session data encryption or token signing.

- **`views`**: `string | Bucket`
  - Path or bucket location where view templates are stored.

- **`public`**: `string | Bucket`
  - Directory or bucket containing static assets like CSS, JavaScript, and images.

- **`uploads`**: `string | Bucket`
  - Directory or bucket used for storing user-uploaded files.

- **`store`**: `Store`
  - A key-value store for general-purpose storage, used for caching or temporary data.

- **`session`**: `Store`
  - A specialized store for managing user sessions, often involving authentication data.

- **`cors`**: `boolean | Origin | Cors`
  - Configures Cross-Origin Resource Sharing (CORS) settings. Can be a simple boolean, a specific domain, or a comprehensive CORS configuration object.

- **`auth`**: `AuthString | Auth`
  - Defines authentication settings, specifying the method and provider such as `cookie:github` or token-based auth.

#### Usage Example

```js
import server from './path/to/server';

export default server({
  port: 3000,
  secret: 'your-secret-key',
  views: './views',
  public: './public',
  uploads: './uploads',
  store: kv(new Map()),
  session: kv(new Map()),
  cors: {
    origin: '*',
    methods: 'GET,HEAD,PUT,PATCH,POST,DELETE',
    headers: 'Content-Type,Authorization',
    credentials: true,
  },
  auth: 'cookie:github',
});
```


#### `port`

- **Type**: `number`
- **Default**: Value of the `PORT` environment variable or `3000`.
- **Description**: Specifies the port number on which the server listens for incoming connections. It serves as the gateway through which users access your server's services. Setting the correct port is crucial, especially in a production environment where multiple services may run concurrently.

#### `secret`

- **Type**: `string`
- **Default**: Value of the `SECRET` environment variable or generates an `unsafe-` prefixed ID.
- **Description**: Used for securing operations such as cookie signing and session management. The secret must be safeguarded to prevent unauthorized access or tampering with sensitive data.

#### `cors`

- **Type**: `boolean | string | Origin | Cors`
- **Default**: Value of the `CORS` environment variable or `null`.
- **Description**: Defines Cross-Origin Resource Sharing (CORS) policy, crucial for enabling your server to respond to requests from different domains. The policy can be a simple boolean to allow any origin, a specific origin string, or a more detailed CORS configuration object. By default, it uses broad methods and headers if not explicitly set.

#### `views`

- **Type**: `string | Bucket`
- **Default**: `null`
- **Description**: Specifies the location of your view templates, either as a filesystem path or a Bucket instance. Views are responsible for rendering dynamic content based on data and templates.

#### `public`

- **Type**: `string | Bucket`
- **Default**: `null`
- **Description**: Indicates the directory or bucket for serving static assets such as images, CSS, and JavaScript files. This setup allows efficient and organized delivery of static resources to the client.

#### `uploads`

- **Type**: `string | Bucket`
- **Default**: `null`
- **Description**: Designates the directory or bucket for handling file uploads from users. Effective management of upload destinations ensures data integrity and security.

#### `store`

- **Type**: `Store`
- **Default**: `null`
- **Description**: A key-value store for caching or temporary data storage. This option is beneficial for enhancing performance by reducing redundant data fetching operations.

#### `session`

- **Type**: `Store`
- **Default**: Uses `store` prefixed with "session:" if not explicitly set.
- **Description**: A store dedicated to user session management, helping maintain stateful interactions across requests.

#### `auth`

> Experimental

- **Strategy**: `AuthString | Auth`
- **Default**: Value of the `AUTH` environment variable or `null`.
- **Description**: Configures authentication options to manage user identities and permissions effectively. Supports cookie and token-based authentication, choosing from providers like GitHub and email.

#### Additional Considerations

- **Bucket**: Provides an interface for data operations, supporting storage flexibility across different systems.
- **CORS Policy**: Includes pre-defined methods and headers to handle cross-origin requests smoothly.
- **Environment Variables**: Many options can be configured via environment variables, allowing dynamic configuration in different deployment environments.

This detailed overview of each option provides you with the flexibility and control needed to tailor your server's configuration to fit diverse application requirements.
